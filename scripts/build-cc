#!/bin/bash
# vim: tabstop=4 fileformat=unix fileencoding=utf-8 filetype=sh

# license: Apatche v2.0

export PATH=${XMINGW_ORIG_PATH}
export CC=${XMINGW_ORIG_CC}
export CXX=${XMINGW_ORIG_CXX}
export PKG_CONFIG_PATH=${XMINGW_ORIG_PKG_CONFIG_PATH}
export LD_LIBRARY_PATH=${XMINGW_ORIG_LD_LIBRARY_PATH}
export MANPATH=${XMINGW_ORIG_MANPATH}
export INFOPATH=${XMINGW_ORIG_INFOPATH}
export C_INCLUDE_PATH=${XMINGW_ORIG_C_INCLUDE_PATH}
export CPLUS_INCLUDE_PATH=${XMINGW_ORIG_CPLUS_INCLUDE_PATH}
export LIBRARY_PATH=${XMINGW_ORIG_LIBRARY_PATH}

cmd=`basename "$0" | sed -e 's/^build-//' | tr '[a-z]' '[A-Z]'`
val=`eval echo \$\{${cmd}\}`
if test "" = "${val}"
then
  case "${cmd}" in
  CC)
    val="`which cc`"
    ;;
  CXX)
    val="`which c++`"
    ;;
  *)
    echo unsupported
    exit 1
  esac
fi
${val} "$@"

